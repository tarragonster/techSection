<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test</title>
    <link rel="stylesheet" type="text/css" href="spinWheel.css">
</head>
<body>

    <div id="wrap">
        <div id = "theWheel">
            <div class="half1">
                <div class="section"></div>
                <div class="section"></div>
                <div class="section"></div>
                <div class="section"></div>
                <div class="section"></div>
                <div class="section"></div>
            </div>
            <div class="half2">
                <div class="section"></div>
                <div class="section"></div>
                <div class="section"></div>
                <div class="section"></div>
                <div class="section"></div>
                <div class="section"></div>
            </div>

            <div id="pic1">
                <img class="firstPic" src="./img/helmet.svg" alt="helmet">
            </div>
            <div id="pic2">
                <img class="firstPic" src="./img/chest.svg" alt="chest">
            </div>
            <div id="pic3">
                <img class="firstPic" src="./img/shield.svg" alt="potion">
            </div>
            <div id="pic4">
                <img class="firstPic" src="./img/potion.svg" alt="shield">
            </div>

            <div id="pic5">
                <img class="firstPic" src="./img/shield.svg" alt="shield">
            </div>
            <div id="pic6">
                <img class="firstPic" src="./img/potion.svg" alt="potion">
            </div>

            <div id="pic7">
                <img class="firstPic" src="./img/helmet.svg" alt="helmet">
            </div>
            <div id="pic8">
                <img class="firstPic" src="./img/chest.svg" alt="chest">
            </div>
            <div id="pic9">
                <img class="firstPic" src="./img/shield.svg" alt="chest">
            </div>

            <div id="pic10">
                <img class="firstPic" src="./img/potion.svg" alt="potion">
            </div>
            <div id="pic11">
                <img class="firstPic" src="./img/helmet.svg" alt="helmet">
            </div>
            <div id="pic12">
                <img class="firstPic" src="./img/chest.svg" alt="chest">
            </div>
        </div>
        <div id="spin">
            <div id="pointer"></div>
            <button id="spinButton" onclick="startSpin()">Spin</button>
        </div>
    </div>

    <div id="menu">

        <div class="section">
            <input class="contain" type="text" disabled>
            <span class="text">Strength</span>
            <input class="change" id="strength" type="text" disabled>
        </div>

        <div class="section">
            <input class="contain" type="text" disabled>
            <span class="text">Defence</span>
            <input class="change" id="defence" type="text" disabled>
        </div>

        <div class="section">
            <input class="contain" type="text" disabled>
            <span class="text">Treasure</span>
            <input class="change" id="treasure" type="text" disabled>
        </div>

        <div class="section">
            <input class="contain" type="text" disabled>
            <span class="text">Mana</span>
            <input class="change" id="mana" type="text" disabled>
        </div>


    </div>

    <script>
        var wheel = document.getElementById("theWheel");
        var click = 0;
        var turn = 1800;
        var maxNum;

        var strength = document.getElementById("strength");
        var defence  = document.getElementById("defence");
        var treasure = document.getElementById("treasure");
        var mana = document.getElementById("mana");
        var count1 = 0;
        var count2 = 0;
        var count3 = 0;
        var count4 = 0;

        function startSpin(){

            click++;

            maxNum = Math.floor(Math.random()*360 + 1 -1);

            var theDegree = "rotate(" + (turn*click + maxNum) +"deg)";

            wheel.style.transform = theDegree;
            wheel.style.transition = "all 5s cubic-bezier(0.3, 0.76, 0.91, 1) 0s";

        }

        wheel.addEventListener("transitionend", nextEvent);


        function nextEvent(){

            
            if(maxNum <= 30){
                count1 = count1 + 1;
                strength.style.width = count1 + "%"
            }else if( maxNum <= 60){
                count2 = count2 + 1;
                treasure.style.width = count2 + "%"
            }else if(maxNum <= 90){
                count3 = count3 + 1;
                defence.style.width = count3 + "%"
            }else if(maxNum <= 120){
                count4 = count4 + 1;
                mana.style.width = count4 + "%"
            }else if(maxNum <= 150){
                count1 = count1 + 1;
                strength.style.width = count1 + "%"
            }else if(maxNum <= 180){
                count2 = count2 + 1;
                treasure.style.width = count2 + "%"
            }else if(maxNum <= 23){
                count3 = count3 + 1;
                defence.style.width = count3 + "%"
            }else if(maxNum <= 240){
                count4 = count4 + 1;
                mana.style.width = count4 + "%"
            }else if(maxNum <= 270){
                count1 = count1 + 1;
                strength.style.width = count1 + "%"
            }else if(maxNum <= 300){
                count2 = count2 + 1;
                treasure.style.width = count2 + "%"
            }else if(maxNum <= 330){
                count3 = count3 + 1;
                defence.style.width = count3 + "%"
            }else{
                count4 = count4 + 1;
                mana.style.width = count4 + "%"
            }
        }



    </script>
</body>
</html>